<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11) on Fri Feb 25 15:51:30 GMT 2022 -->
<title>InsightsService</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-02-25">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InsightsService";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">service</a></div>
<h2 title="Class InsightsService" class="title">Class InsightsService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>service.InsightsService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">InsightsService</span>
extends java.lang.Object</pre>
<div class="block">This class provides the implementation that generates results using the Deque data structure<br>

 The questions answered are as below:<br>
 1. Which is the most popular product in every category ?<br>
 2. What proportion of the deliveries in every region are delayed ?<br>
 3. Who are my top/bottom n customers based on sales<br>
 4. Which country do I receive the most number of orders from<br></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.List)">InsightsService</a></span>&#8203;(java.util.List&lt;<a href="../model/Record.html" title="class in model">Record</a>&gt;&nbsp;records)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCountryWithMostOrders()">getCountryWithMostOrders</a></span>()</code></th>
<td class="colLast">
<div class="block">This method returns the country with the most orders in the format 'country - 123'<br></div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLateDeliveriesByRegion()">getLateDeliveriesByRegion</a></span>()</code></th>
<td class="colLast">
<div class="block">This method generates the proportion of late deliveries by region in the format 'region - 0.25'<br></div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../model/ProductSales.html" title="class in model">ProductSales</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMostPopularProductByCategory()">getMostPopularProductByCategory</a></span>()</code></th>
<td class="colLast">
<div class="block">This method returns the most popular product by category and the total sale amount associated with the product</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTopCustBySales(boolean,int)">getTopCustBySales</a></span>&#8203;(boolean&nbsp;top,
                 int&nbsp;count)</code></th>
<td class="colLast">
<div class="block">This method returns the top/bottom n customers by sales.<br></div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.util.List)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InsightsService</h4>
<pre>public&nbsp;InsightsService&#8203;(java.util.List&lt;<a href="../model/Record.html" title="class in model">Record</a>&gt;&nbsp;records)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getMostPopularProductByCategory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMostPopularProductByCategory</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="../model/ProductSales.html" title="class in model">ProductSales</a>&gt;&nbsp;getMostPopularProductByCategory()</pre>
<div class="block">This method returns the most popular product by category and the total sale amount associated with the product</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list containing the most popular product from each category and the associated sales.

 This function retrieves the most popular product from each category. The popularity of the product
 is determined by total sales for the said product. Workflow within this method:

 1. Pass through the raw data list to extract the number of distinct categories.<br>
 2. Foreach category, pick the relevant products form the raw data list and enqueue them in a Deque.<br>
      The elements will be enqueued in increasing order of product name (lexicographic comparison) so the deque has all records associated with a product within succession
 3. Remove elements form the queue one by one, aggregating sales by product. Update the most popular product within the category if any product turns out to be more popular than the one previously marked as most popular within the category.<br>
 4. Repeat steps 2 and 3 for every category<br></dd>
</dl>
</li>
</ul>
<a id="getLateDeliveriesByRegion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLateDeliveriesByRegion</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getLateDeliveriesByRegion()</pre>
<div class="block">This method generates the proportion of late deliveries by region in the format 'region - 0.25'<br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of region with the proportion of late deliveries for the region in the format 'region - 0.25'<br>

 This method returns the proportion of deliveries that are delayed for every market region<br>
 Workflow within this method:<br>
 1. Add the raw data into a Deque sorted by the market region. This ensures that all records associated with a region appear together within the deque<br>
 2. Remove each element from the queue, updating the proportion of delayed requests. Since the elements are sorted by region, all
 records associated with a region are removed from the deque in succession. Hence, if the newly popped element corresponds to a
 different region that the last one, it implies that all records associated with the previous region have been processed.
 Hence, at this stage, we can add the results associated with the previous region into the list holding the results. This process continues till we
 have records available to process in the deque</dd>
</dl>
</li>
</ul>
<a id="getTopCustBySales(boolean,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTopCustBySales</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getTopCustBySales&#8203;(boolean&nbsp;top,
                                                          int&nbsp;count)</pre>
<div class="block">This method returns the top/bottom n customers by sales.<br></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>top</code> - This boolean flag indicates if we wish to extract the top or bottom n customers. top = true will return the top n customers,
           whereas top = false will return the bottom n customers</dd>
<dd><code>count</code> - This parameter defines the value of number of customers we wish to retrieve. For eg:
             top = true, count = 5 will return the top 5 customers
             top = false, count = 4 will return the bottom 4 customers</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list containing the top/bottom n countries based on the parameters top and count passed to this method

 Workflow of the method:<br>
 1. Generate a deque with the data sorted by customer id<br>
 2. Pop from queue one by and compute the sum of sales per customer. All records associated with a customer will be together in the queue as the queue has been
              has elements sorted by customer id<br>
 3. Sort the resultant objects based on total sales and add the result into another deque.<br>
 4. Return n elements form the front or back of the queue depending on whether we need the top elements or bottom elements<br>

 Note: Use of a Deque to store the results gives us the benefit of being able to retrieve either the top n or the bottom n customers. This is because a deque allows
 removal at both ends.<br></dd>
</dl>
</li>
</ul>
<a id="getCountryWithMostOrders()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCountryWithMostOrders</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getCountryWithMostOrders()</pre>
<div class="block">This method returns the country with the most orders in the format 'country - 123'<br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string specifying the country with the most orders and the corresponding number of orders in the format 'country - 123'

This method returns the country with the most customers.<br>
 The workflow within this method is as follows:<br>

 1. Sort the records by order country and then add them to a deque<br>
 2. Parse through the deque to add the number of orders from each region<br>
 3. If the number of customers from a country exceeds the max number of customers from any region seen previously, update the variable holding the region with the max customers<br></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
